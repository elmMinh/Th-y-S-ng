version: '3.8'

services:
  ssh-server:
    build:
      context: ./ssh_server
    image: ssh_server_img  # Đổi đúng tên
    container_name: ssh_server
    tty: true
    ports:
      - "2222:22"  # Map cổng SSH (host:container)
    networks:
      - ssh_network  # Kết nối mạng chung

  ssh-client: 
    build:
      context: ./ssh_client
    image: ssh_client_img  # Đổi đúng tên
    container_name: ssh_client 
    volumes: 
      - ./ssh_client:/app
    depends_on:
      - ssh-server
    stdin_open: true  
    tty: true
    networks:
      - ssh_network  # Kết nối mạng chung

networks:
  ssh_network:
    driver: bridge
